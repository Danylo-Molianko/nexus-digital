/* === ДИРЕКТИВИ TAILWIND (ЗАЛИШИТИ) === */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* === ГЛОБАЛЬНА ПАЛІТРА NEXUS (CSS ЗМІННІ) === */
:root {
  /* Синхронізація з tailwind.config.js
  */
  
  /* 1. Основа */
  --color-background-deep: #0A001F;  
  --color-background-medium: #11052C;

  /* 2. Акцент (Золото Nexus) */
  --color-accent: #C78B0C;
  --color-accent-hover: #E0A42D;

  /* 3. Інновації (Технології) */
  --color-tech-blue: #00BFFF;

  /* 4. Текст */
  --color-text-primary: #FFFFFF; /* Преміальний контраст: чистий білий */
  --color-text-secondary: #8A8A9E;
  --color-text-headings: #FFFFFF;

  /* 5. Скло (Glassmorphism) */
  --color-glass-bg: rgba(17, 5, 44, 0.65); /* Робимо скло трохи менш прозорим (0.5 -> 0.65) */
  --color-glass-border: rgba(255, 255, 255, 0.15); /* Робимо рамку трохи яскравішою (0.1 -> 0.15) */
  --glass-blur: 16px; /* Посилюємо розмиття (12px -> 16px) для кращої читабельності */

  /* 6. Навігація (Зберігаємо з вашого файлу) */
  --header-height-large: 5rem; /* 80px */
  --header-height-small: 4rem; /* 64px */
}

/* === FLUID TYPOGRAPHY SCALE === */
:root {
  --font-h1: clamp(2.5rem, 2.2rem + 2.2vw, 4rem);
  --font-h2: clamp(2rem, 1.7rem + 1.7vw, 3rem);
  --font-h3: clamp(1.5rem, 1.2rem + 1.2vw, 2rem);
  --font-body: clamp(1rem, 0.96rem + 0.3vw, 1.125rem);
}
.h1-fluid { font-size: var(--font-h1); line-height: 1.1; }
.h2-fluid { font-size: var(--font-h2); line-height: 1.15; }
.h3-fluid { font-size: var(--font-h3); line-height: 1.2; }
.body-fluid { font-size: var(--font-body); }

/* === БАЗОВІ СТИЛІ === */
body {
  /* Living Cosmic Background */
  background-color: var(--color-background-deep);
  background-image:
    linear-gradient(
      -45deg,
      var(--color-background-deep, #0A001F),
      var(--color-background-medium, #11052C),
      var(--color-tech-purple, #6A0DAD),
      var(--color-background-deep, #0A001F)
    );
  background-size: 400% 400%;
  background-attachment: fixed;
  animation: livingVoidShift 40s ease-in-out infinite;
  will-change: background-position;

  /* Текст і типографіка */
  color: var(--color-text-primary);
  font-family: 'Inter', sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
  line-height: 1.6;
  /* Глобальне центрування тексту за замовчуванням */
  text-align: center;
}

@media (prefers-reduced-motion: reduce) {
  body { animation: none; }
}

h1, h2, h3, h4, h5, h6 {
  /* Шрифти (підтверджено з Tailwind) */
  font-family: 'Space Grotesk', sans-serif;
  color: var(--color-text-headings);
  font-weight: 700;
  line-height: 1.2;
}

/* === АНІМАЦІЇ (ЗАЛИШИТИ) === */
@keyframes slow-drift {
  0% { transform: translateY(-10px) translateX(-10px); }
  100% { transform: translateY(10px) translateX(10px); }
}

/* === ГЛОБАЛЬНЕ ЦЕНТРУВАННЯ ТЕКСТУ (примусово) === */
@layer base {
  /* Примусово центруємо увесь текст на сторінці. 
     Використовуємо !important, щоб перекрити локальні text-left/right. */
  html, body, body *:not(svg):not(path) {
    text-align: center !important;
  }
}

/* Living background motion */
@keyframes livingVoidShift {
  0%   { background-position:   0%   0%; }
  50%  { background-position: 100% 100%; }
  100% { background-position:   0%   0%; }
}

/* === HYPER-VIBRANCY UTILITIES === */
@layer utilities {
  /* Subtle clarity boost without changing palette */
  .u-vibrant { filter: brightness(1.1) saturate(1.2); }

  /* Realistic glow via drop-shadow */
  .u-glow-gold { filter: drop-shadow(0 0 15px var(--color-accent)); }
  .u-glow-blue { filter: drop-shadow(0 0 15px var(--color-tech-blue)); }

  /* Hover variants compatible with Tailwind syntax */
  .hover\:u-glow-gold:hover { filter: drop-shadow(0 0 15px var(--color-accent)); }
  .hover\:u-glow-blue:hover { filter: drop-shadow(0 0 15px var(--color-tech-blue)); }
}

/* === ACCESSIBILITY & INTERACTION UTILITIES === */
.focus-visible-ring:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px rgba(17,5,44,0.9), 0 0 0 4px var(--color-accent);
  border-color: var(--color-accent);
}

.underline-center {
  background-image: linear-gradient(currentColor, currentColor);
  background-size: 0% 2px;
  background-position: 50% 100%;
  background-repeat: no-repeat;
  transition: background-size 250ms ease;
}
.underline-center:hover { background-size: 100% 2px; }

/* === SECTION GLOW (radial gold glow behind headings) === */
.section-glow { position: relative; }
.section-glow::before {
  content: "";
  position: absolute; inset: -10% -10% auto -10%;
  height: 50%;
  background: radial-gradient(circle at 50% 0%, rgba(199,139,12,0.12), transparent 60%);
  filter: blur(30px);
  pointer-events: none;
  z-index: 0;
}

/* === NOISE OVERLAY to remove banding === */
.noise-overlay {
  pointer-events: none;
  position: fixed; inset: 0;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.03"/></svg>');
  background-size: 200px 200px;
  z-index: 50;
}

/* === REALITY BACKGROUND LAYERS === */
.reality-layer {
  position: absolute; inset: -10%;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.06;
  animation: realityDrift 60s ease-in-out infinite alternate;
  will-change: transform;
  contain: layout paint style;
}
.reality-lava {
  background: radial-gradient(120% 120% at 50% 100%, rgba(231, 182, 48, 0.15), transparent 60%),
              radial-gradient(80% 80% at 20% 20%, rgba(199,139,12,0.12), transparent 60%),
              linear-gradient(120deg, rgba(199,139,12,0.10), rgba(234, 177, 42, 0.06));
}
.reality-ocean {
  background: radial-gradient(100% 100% at 80% 10%, rgba(0,191,255,0.10), transparent 60%),
              linear-gradient(180deg, rgba(17,5,44,0.10), rgba(10,0,31,0.10));
  opacity: 0.04;
}
@keyframes realityDrift {
  0% { transform: translate3d(0, 0, 0) scale(1); }
  50% { transform: translate3d(-2%, 1%, 0) scale(1.02); }
  100% { transform: translate3d(2%, -1%, 0) scale(1.01); }
}

@media (prefers-reduced-motion: reduce) {
  .reality-layer { animation: none; }
}

/* === PERF: CONTENT VISIBILITY === */
.defer-visibility { content-visibility: auto; contain-intrinsic-size: 1000px; }

/* === Aurora pulse helper (used by AuroraBackground) === */
@keyframes auroraPulse { 0%,100% { opacity: 0.12; } 50% { opacity: 0.18; } }
.animate-aurora-pulse { animation: auroraPulse 10s ease-in-out infinite; }
